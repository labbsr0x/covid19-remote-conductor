{
    "name": "env_up",
    "description": "sets up remote work env for a user",
    "version": 1,
    "tasks": [{
            "name": "issue_certificate",
            "taskReferenceName": "ic",
            "type": "SIMPLE",
            "inputParameters": {
                "user": "${workflow.input.user}",
                "name": "${workflow.input.name}"
            }
        },
        {"name": "distribute-certificate",
            "taskReferenceName": "dc",
            "type": "SIMPLE",
            "inputParameters": {
                "user": "${ic.output.cert}"
            }
        },
        {"name": "issue_certificate",
            "taskReferenceName": "issue_certificate",
            "type": "SIMPLE",
            "inputParameters": {
                "user": "${workflow.input.user}",
                "name": "${workflow.input.name}"
            }
        }
    ],
    "outputParameters": {
        "cert": "${d1.output.cert}"
      },
    "failureWorkflow": "cleanup_encode_resources",
    "restartable": true,
    "workflowStatusListenerEnabled": true,
    "schemaVersion": 2
}
